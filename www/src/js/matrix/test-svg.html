
<html>
<body>

	<object type="image/svg+xml" data="circle.svg">
    	<param name="paramText" value="newvalue" />
 	</object>


	<svg height="3000" width="1300">


		<defs>
			<g id="textdef">
				<circle r="15" fill="blue"></circle>
			</g>
		</defs>
		<!--<use xlink:href="#textdef"></use>-->

	</svg>


 <svg>

       <defs id="defs-1">
         <set xlink:href="#button_rect" attributeName="fill" to="param(color)" begin="0s" fill="freeze" />
         <set xlink:href="#button_rect" attributeName="stroke" to="param(outline)" begin="0s" fill="freeze" />
         <set xlink:href="#button_rect" attributeName="rx" to="param(corners)" begin="0s" fill="freeze" />
         <set xlink:href="#button_rect" attributeName="ry" to="param(corners)" begin="0s" fill="freeze" />
         <set xlink:href="#button_label" attributeName="???" to="param(text-label)" begin="0s" fill="freeze" />
       </defs>

       <g>
          <rect id="button_rect" x="5" y="5" width="100" height="30" rx="15" ry="15" 
                fill="blue" stroke="navy" />
          <text id="button_label" x="55" y="30" text-anchor="middle" 
                font-size="25" fill="black" font-family="Verdana"> </text>
       </g>

	</svg>
	
	<object type="image/svg+xml" data="light.svg">
       <param name="color" value="red" />
       <param name="text-label" value="stop" />
       <param name="corners" value="0" />
    </object>




	<!--<use xlink:href="#textdef" id="instance"></use>
	<use xlink:href="#textdef" x="100" y="100"></use>-->

	<script>

		const rowCount = 40, colCount = 80;

		const elements = [];
		const svg = document.querySelector('svg');

		console.time('generate');
		for (let x = 0; x < rowCount; x++) {

			elements.push('<g class="row-' + x + '" style="transform: translate(0,' + (x * 30 ) + 'px);transition: transform 0.7s;">');

			for (let y = 0; y < colCount; y++) {

				let el = '<g class="col-' + y + '" style="transform: translate(' + (y*30) + 'px,0); transition:transform 0.7s;">';
				el += '<use xlink:href="#textdef"></use>';
				el += '<text fill="red" x="0" y="5" w="50" h="10" text-anchor="middle">origiasfs' + x + '/' + y + '</text>';
				el += '</g>';
				//elements.push(el);
				/*const el = document.createElementNS('http://www.w3.org/2000/svg', 'use');
				el.setAttribute('xlink:href', '#textdef');
				el.setAttribute('class', 'col-' + y);*/
				elements.push(el);

			}

			elements.push('</g>');

		}
		console.timeEnd('generate');

		console.time('append');
		svg.innerHTML += '<g>' + elements.join('') + '</g>';
		console.timeEnd('append');

		const cols = [];
		console.time('select');
		for (var i = 0; i < colCount; i++) {
			cols.push(document.querySelectorAll('.col-' + i));
		}
		console.timeEnd('select');



		setTimeout(() => {
	
			console.time('transform');
			Array.from(cols[6]).forEach((col) => {
				col.style.transform = 'translate(340px, 0)';
			});
			console.timeEnd('transform');

		}, 100);




		setTimeout(() => {
	
			console.time('transform');
			for (var i = 0; i < 12; i++) {
				Array.from(cols[i + 3]).forEach((col) => {
					col.style.transform = 'translate(' + (900 + i * 30) + 'px, 0)';
				});
				Array.from(cols[i + 20]).forEach((col) => {
					col.style.transform = 'translate(' + (10+ i * 30) + 'px, 0)';
				});
			}
			console.timeEnd('transform');

		}, 2000);


		/*setTimeout(() => {

			const style = document.createElement('style');
			style.innerHTML = `
				.col-3 {
					transform: translate(400px, 0);
					opacity: 0.5;
				}
			`;
			document.body.appendChild(style);

		}, 100);*/


	</script>


</body>
</html>